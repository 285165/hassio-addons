 #!/usr/bin/with-contenv bashio

################
# Alternate UI #
################

if bashio::config.has_value 'customUI'; then
  ### Variables
  CUSTOMUI=$(bashio::config 'customUI')
  bashio::log.info "Alternate theme enabled : $CUSTOMUI. If webui don't work, disable this option"

  ### Download WebUI
  case $CUSTOMUI in
  "comixology2")
    curl -s -S -J -L -o /data/release.zip https://github.com/scooterpsu/Comixology_Ubooquity_2/releases/download/v3.4/comixology2.zip >/dev/null \
    && unzip -q /data/release.zip -d /config/ubooquity/themes/ \
    ;;

#  case $CUSTOMUI in
#  "plextheme")
#    curl -s -S -J -L -o /data/release.zip https://github.com/FinalAngel/plextheme/archive/master.zip >/dev/null \
#    && unzip -q /data/release.zip -d /config/ubooquity/themes/ \
#    ;;

  esac

  ### Clean files
  rm /data/release.zip || true
  
else
  rm -rfv /config/ubooquity/themes/* && bashio::log.info "Custom themes files removed" || true
fi
